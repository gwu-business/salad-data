# Urban Lunch Company

## Business Prompt

The Urban Lunch Company runs lunch service each weekday
 from multiple store-front locations in cities across the United States.

The company employs
 executives, regional managers, order preparers, and payment station attendants
 to operate lunch service at each location.

Company executives organize each location into a single geographic region
 and delegate operational responsibilities
  of all locations in a region
  to a regional manager.
 Most regions have multiple locations,
  but some regions at some times only have one location.

Some regional managers manage multiple regions.

On a quarterly basis,
 the manager of each region
  is responsible for designing a seasonal menu.
 Each menu features salads and healthy lunch options
  made from locally-sourced and organic ingredients.

All regional locations serve the same lunch menu
 for a specified period of time,
 until the new seasonal menu replaces the old one.

Before the beginning of each season,
 the company is required by its board of directors
  to publish the comprehensive menu
   along with information about the caloric and allergen content
    of each individual menu ingredient.

During lunch service at any location,
 customers may order food in-person,
 or may order online for in-store pickup.

Customers who order in person communicate their order to a food preparer.

When a customer orders online for pickup at a given location,
 a printer in that location's kitchen prints the order details,
 and an employee prepares the order according to the customer's instructions.

Customers who order online first must fill out a profile,
 which includes their name and dietary preferences/restrictions.
 Each customer may associate one or more credit cards with their profile.

Each customer must pay for his/her order before picking it up from the payment attendant.
 Customers can choose to pay with cash, credit card, gift card, loyalty rewards card, or mobile application QR code.
 A customer may pay for an order using only one method.
 If one payment method is denied, the customer has an opportunity to present an alternate method.

If the customer presents enough cash,
 the payment attendant authorizes the transaction.

If the customer presents a gift card,
   the payment attendant scans the card, and the system checks the balance.
   If the balance is sufficient, the system authorizes the transaction and updates the gift card balance, else the system denies the transaction.
   Regardless of the outcome, after making the payment transaction authorization decision, the system indicates the current gift card balance.

If the customer presents a credit card,
 the payment station attendant scans the card and waits from a transaction authorization decision from an external authority.

If the customer presents a mobile phone,
 the payment attendant scans the customer's QR code, and the system checks to see if the code matches an existing customer profile. The system authorizes the transaction if there is a match, else it rejects the transaction. A customer needs to create an online profile and associate at least one credit card before the system will recognize that customer's QR code.

If the customer presents a loyalty rewards card,
 the payment station only authorizes the transaction if the card has 13 loyalty stamps.
 The company has decided to stop issuing loyalty rewards cards in favor of online customer profiles, but the company still honors legacy rewards cards. Each time a customer pays for an order, the payment station attendant stamps the card once.
